{
    "env":{},
    "subcommands":[
        {
            "name":"dbwriter",
            "command":["./dbwriter"],
            "envflags":{},
            "depends":[],
            "run_forever":true
        },
        {
            "name":"gnatsd",
            "command":["./dep/gnatsd_cmd","-c","gnatsd|config"],
            "envflags":{"gnatsd|config":"./config/gnatsd.conf"},
            "depends":[],
            "run_forever":true
        },
        {
            "name":"setup_postgres",
            "command":["./config/postgres_cmd", "setup", "postgres|folder"],
            "depends":[],
            "envflags":{},
            "run_forever":false
        },
        {
            "name":"postgres",
            "command":["./config/postgres", "run", "postgres|folder"],
            "depends":["setup_postgres"],
            "envflags":{},
            "run_forever":true
        },
        {
            "name":"redis",
            "command":["redis-server", "./config/redis.conf"],
            "depends":[],
            "envflags":{},
            "run_forever":true
        },
        {
            "name": "setup_environment",
            "command":[],
            "depends":["redis", "postgres", "gnatsd", "dbwriter"],
            "envflags":{},
            "run_forever":false
        },
        {
            "name": "test_environment",
            "command":[],
            "depends":["setup_environment"],
            "envflags":{"postgres|folder":"TESTING_postgres"},
            "run_forever":false
        },
        {
            "name":"production_environment",
            "command":[],
            "depends":["setup_environment"],
            "envflags":{"postgres|folder":"production_postgres"},
            "run_forever":false
        },


        {
            "name":"user_web",
            "command":["./webservice"],
            "depends":["production_environment"],
            "envflags":{"web|hostname":"localhost", "web|port":"8080"},
            "run_forever":true
        }
    ]
}
